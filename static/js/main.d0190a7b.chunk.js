(this["webpackJsonpcadastro-de-propriedade"]=this["webpackJsonpcadastro-de-propriedade"]||[]).push([[0],{24:function(e,t,a){e.exports=a(40)},29:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(29),a(22)),i=a(1),s=a(6),u=a.n(s),d=a(8),p=a(10),m=a(11),h=a(12),f=a(14),E=a(13),v=(a(31),function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"header-content"},r.a.createElement("h1",{className:"header-title"},"Cadastro de Propriedades")))}}]),a}(n.Component)),b=(a(32),function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={propriedades:[]},n.loadPropriedades=n.loadPropriedades.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"loadPropriedades",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/propriedades");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({propriedades:a}),console.log(a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadPropriedades()}},{key:"handlePropriedadeSelecionada",value:function(e){localStorage.setItem(e,e)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{className:"button"},r.a.createElement("a",{href:"/create"},"Incluir propriedade"))),r.a.createElement("div",{className:"main"},this.state.propriedades.map((function(e){return r.a.createElement("div",{className:"content",key:e.id},r.a.createElement("div",{className:"linhas"},r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"/detail",onClick:function(){return localStorage.setItem("id",e.id)}},e.nome)))))}))))}}]),a}(n.Component)),j=(a(33),function(e){Object(f.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={propriedades:[]},n.loadPropriedades=n.loadPropriedades.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"loadPropriedades",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("id"),e.next=3,fetch("http://localhost:3001/propriedades/".concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,this.setState({propriedades:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadPropriedades()}},{key:"deletarPropriedade",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=localStorage.getItem("id"),!window.confirm("Are you sure you want to delete?")){e.next=5;break}return e.next=5,fetch("http://localhost:3001/propriedades/".concat(a),{method:"DELETE"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"linhas"},r.a.createElement("p",null,"Nome: "),r.a.createElement("p",{className:"linhas-nome"},r.a.createElement("strong",null,this.state.propriedades.nome))),r.a.createElement("div",{className:"linhas"},r.a.createElement("p",null,"Esp\xe9cie: "),r.a.createElement("p",null,this.state.propriedades.especie)),r.a.createElement("div",{className:"linhas"},r.a.createElement("p",null,"Cultivares: "),r.a.createElement("p",null,this.state.propriedades.cultivar)),r.a.createElement("div",{className:"linhas"},r.a.createElement("p",null,"Area: "),r.a.createElement("p",null,this.state.propriedades.area)),r.a.createElement("div",{className:"linhas"},r.a.createElement("p",null,"Unidade: "),r.a.createElement("p",null,this.state.propriedades.unidade)))),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{className:"button"},r.a.createElement("a",{href:"/"},"Voltar")),r.a.createElement("button",{className:"button",onClick:this.deletarPropriedade},"Excluir")))}}]),a}(n.Component)),O=a(7);a(34);var y=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),i=Object(O.a)(o,2),s=i[0],p=i[1],m=Object(n.useState)(""),h=Object(O.a)(m,2),f=h[0],E=h[1],b=Object(n.useState)(""),j=Object(O.a)(b,2),y=j[0],N=j[1],g=Object(n.useState)(""),k=Object(O.a)(g,2),S=k[0],x=k[1],C=Object(n.useState)([]),w=Object(O.a)(C,2),P=w[0],I=w[1],A=Object(n.useState)(""),D=Object(O.a)(A,2),J=D[0],M=D[1],T=Object(n.useState)(""),F=Object(O.a)(T,2),U=F[0],V=F[1],B=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("http://localhost:3001/propriedades",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({propriedade:{nome:c,especie:s,cultivar:f,area:y,unidade:S}})});case 3:l(""),p(""),E(""),N(""),x("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){fetch("http://localhost:3001/especies").then((function(e){return e.json()})).then((function(e){I(e)}))}),[]),Object(n.useEffect)((function(){console.log(J),"0"!==J&&fetch("http://localhost:3001/cultivares").then((function(e){return e.json()})).then((function(e){var t=e.filter((function(e){return e.especie_id===J}));V(t)}))}),[J]),console.log(U),console.log(P),r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("div",{className:"formulario-main"},r.a.createElement("form",{className:"formulario-inclusao"},r.a.createElement("input",{type:"text",placeholder:"Nome",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("select",{name:"especie",id:"especie",value:s.id,onChange:function(e){var t=e.target.value;M(t),p(t)}},r.a.createElement("option",{value:"0"},"Selecione uma especie"),P.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nome)}))),r.a.createElement("input",{type:"text",placeholder:"Cultivar",value:f,onChange:function(e){return E(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Area",value:y,onChange:function(e){return N(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Unidade",value:S,onChange:function(e){return x(e.target.value)}}))),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{className:"button"},r.a.createElement("a",{href:"/"},"Voltar")),r.a.createElement("button",{className:"button",type:"submit",onClick:B},"Cadastrar")))},N=function(){return r.a.createElement(o.a,null,r.a.createElement(i.a,{component:b,path:"/",exact:!0}),r.a.createElement(i.a,{component:j,path:"/detail"}),r.a.createElement(i.a,{component:y,path:"/create"}))};var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.d0190a7b.chunk.js.map