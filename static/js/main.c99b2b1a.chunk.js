(this["webpackJsonpcadastro-de-propriedade"]=this["webpackJsonpcadastro-de-propriedade"]||[]).push([[0],{24:function(e,t,a){e.exports=a(40)},29:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(29),a(22)),i=a(1),s=a(3),u=a.n(s),d=a(8),m=a(10),p=a(11),h=a(12),E=a(14),f=a(13),v=(a(31),function(e){Object(E.a)(a,e);var t=Object(f.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"header-content"},r.a.createElement("h1",{className:"header-title"},"Cadastro de Propriedades")))}}]),a}(n.Component)),b=(a(32),function(e){Object(E.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={propriedades:[]},n.loadPropriedades=n.loadPropriedades.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"loadPropriedades",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/propriedades");case 2:return t=e.sent,e.next=5,t.json();case 5:a=(a=e.sent).sort(),this.setState({propriedades:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadPropriedades()}},{key:"handlePropriedadeSelecionada",value:function(e){localStorage.setItem(e,e)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{className:"button"},r.a.createElement("a",{href:"/create"},"Incluir Propriedade"))),r.a.createElement("div",{className:"list-main"},this.state.propriedades.map((function(e){return r.a.createElement("div",{className:"content",key:e.id},r.a.createElement("div",{className:"list-linhas"},r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"/detail",onClick:function(){return localStorage.setItem("id",e.id)}},e.nome))),r.a.createElement("hr",{color:"#E8E8E8"})))}))))}}]),a}(n.Component)),j=(a(33),function(e){Object(E.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={propriedades:[]},n.loadPropriedades=n.loadPropriedades.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"loadPropriedades",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("id"),e.next=3,fetch("http://localhost:3001/propriedades/".concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,this.loadEspecies(n.especie);case 9:return r=(r=e.sent).map((function(e){return e.nome})),e.next=13,this.loadCultivares(n.cultivar);case 13:c=(c=e.sent).map((function(e){return e.nome})),this.setState({propriedades:{nome:n.nome,especie:r,cultivar:c,area:n.area,unidade:n.unidade}});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadPropriedades()}},{key:"deletarPropriedade",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=localStorage.getItem("id"),!window.confirm("Tem certeza que deseja exluir?")){e.next=5;break}return e.next=5,fetch("http://localhost:3001/propriedades/".concat(a),{method:"DELETE"});case 5:window.history.back();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadEspecies",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Number(t),e.next=3,fetch("http://localhost:3001/especies");case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,c=r.filter((function(e){return e.id===a})),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadCultivares",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Number(t),e.next=3,fetch("http://localhost:3001/cultivares");case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,c=r.filter((function(e){return e.id===a})),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement("h1",{className:"main-title"},"Detalhes da Propriedade"),r.a.createElement("div",{className:"detail-main"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"linhas"},r.a.createElement("span",null,"Nome: "),r.a.createElement("span",{className:"linhas-nome"},r.a.createElement("strong",null,this.state.propriedades.nome)),r.a.createElement("hr",{color:"#E8E8E8"})),r.a.createElement("div",{className:"linhas"},r.a.createElement("span",null,"Esp\xe9cie: "),r.a.createElement("span",null,this.state.propriedades.especie),r.a.createElement("hr",{color:"#E8E8E8"})),r.a.createElement("div",{className:"linhas"},r.a.createElement("span",null,"Cultivares: "),r.a.createElement("span",null,this.state.propriedades.cultivar),r.a.createElement("hr",{color:"#E8E8E8"})),r.a.createElement("div",{className:"linhas"},r.a.createElement("span",null,"Area: "),r.a.createElement("span",null,this.state.propriedades.area),r.a.createElement("hr",{color:"#E8E8E8"})),r.a.createElement("div",{className:"linhas"},r.a.createElement("span",null,"Unidade: "),r.a.createElement("span",null,this.state.propriedades.unidade)))),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{className:"button"},r.a.createElement("a",{href:"/"},"Voltar")),r.a.createElement("button",{className:"button",onClick:this.deletarPropriedade},r.a.createElement("a",{href:""},"Excluir"))))}}]),a}(n.Component)),O=a(7);a(34);var N=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),i=Object(O.a)(o,2),s=i[0],m=i[1],p=Object(n.useState)(""),h=Object(O.a)(p,2),E=h[0],f=h[1],b=Object(n.useState)(""),j=Object(O.a)(b,2),N=j[0],y=j[1],k=Object(n.useState)(""),x=Object(O.a)(k,2),g=x[0],w=x[1],S=Object(n.useState)([]),C=Object(O.a)(S,2),P=C[0],F=C[1],I=Object(n.useState)(""),D=Object(O.a)(I,2),T=D[0],A=D[1],J=Object(n.useState)([]),M=Object(O.a)(J,2),V=M[0],q=M[1],z=Object(n.useState)(""),B=Object(O.a)(z,2),L=(B[0],B[1]),U=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("http://localhost:3001/propriedades",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({propriedade:{nome:c,especie:s,cultivar:E,area:N,unidade:g}})});case 3:l(""),m(""),f(""),y(""),w(""),window.alert("Cadastrado conclu\xeddo com sucesso."),window.history.back();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){fetch("http://localhost:3001/especies").then((function(e){return e.json()})).then((function(e){F(e)}))}),[]),Object(n.useEffect)((function(){console.log(T),"0"!==T&&fetch("http://localhost:3001/cultivares").then((function(e){return e.json()})).then((function(e){var t=e.filter((function(e){return e.especie_id===T}));q(t)}))}),[T]),r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("h1",{className:"main-title"},"Incluir Cadastro"),r.a.createElement("div",{className:"formulario-main"},r.a.createElement("form",{className:"formulario-inclusao"},r.a.createElement("label",{htmlFor:"nome"},"Nome da Propriedade:"),r.a.createElement("input",{id:"nome",type:"text",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("label",{htmlFor:"especie"},"Selecione uma esp\xe9cie:"),r.a.createElement("select",{name:"especie",id:"especie",value:s.id,onChange:function(e){var t=e.target.value;A(t),m(t)}},r.a.createElement("option",{value:"0"}),P.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nome)}))),r.a.createElement("label",{htmlFor:"cultivar"},"Selecione uma cultivar:"),r.a.createElement("select",{name:"cultivar",id:"cultivar",value:E,onChange:function(e){var t=e.target.value;L(t),f(t)}},r.a.createElement("option",{value:"0"}),V.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nome)}))),r.a.createElement("label",{htmlFor:"area"},"\xc1rea da propriedade:"),r.a.createElement("input",{id:"area",type:"text",value:N,onChange:function(e){return y(e.target.value)}}),r.a.createElement("label",{htmlFor:"unidade"},"Selecione a unidade de medida:"),r.a.createElement("select",{name:"unidade",id:"unidade",value:g,onChange:function(e){var t=e.target.value;w(t)}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"mt2"},"mt2"),r.a.createElement("option",{value:"ha"},"ha")))),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{className:"button"},r.a.createElement("a",{href:"/"},"Voltar")),r.a.createElement("button",{className:"button",type:"submit",onClick:U},"Cadastrar")))},y=function(){return r.a.createElement(o.a,null,r.a.createElement(i.a,{component:b,path:"/",exact:!0}),r.a.createElement(i.a,{component:j,path:"/detail"}),r.a.createElement(i.a,{component:N,path:"/create"}))};var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.c99b2b1a.chunk.js.map